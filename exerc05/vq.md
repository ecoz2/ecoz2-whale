# VQ based classification

VQ based training and classification done with the help of this script:
[vq-exercise.sh](vq-exercise.sh).

Classification results:

```
CLASSIFYING TRAINING PREDICTORS
ecoz2 vq classify --codebooks data/codebooks/[A-Z]*/eps_0.0005_M_1024.cbook --predictors tt-list.csv --tt=TRAIN
number of codebooks: 20  number of predictors: 4277
show_ranked = false

     Confusion matrix:
            0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19     tests   errors

   A   0  407   0   0   0   0   1   0   0   0   0   0   0   1   0   0   0   0   0   0   0      409       2
   B   1    0  10   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0       10       0
  Bd   2    0   0  40   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0       40       0
  Bm   3    0   0   0 474   0   0   0   1   0   0   0   0   0   2   0   1   5   2   0   1      486      12
  Bu   4    0   0   0   0  34   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0       34       0
   C   5    0   0   0   0   0 438   0   0   0   0   1   0   0   0   1   0   0   0   0   0      440       2
  C1   6    0   0   0   0   0   0  12   0   0   0   0   0   0   0   0   0   0   0   0   0       12       0
   D   7    0   0   0   0   0   0   0 140   0   0   0   0   0   0   0   0   0   0   0   0      140       0
   E   8    0   0   0   0   0   0   0   0 570   0   0   0   0   0   0   0   0   0   0   0      570       0
  E1   9    0   0   0   0   0   0   0   0   0  21   0   0   0   0   0   0   0   0   0   0       21       0
   F  10    0   0   0   0   0   0   0   0   0   0 272   0   0   0   0   0   0   0   0   0      272       0
   G  11    0   0   0   0   0   0   0   0   0   0   0  60   0   0   0   0   0   0   0   0       60       0
  G2  12    0   0   0   0   0   0   0   0   1   0   0   0 244   0   0   0   0   0   0   0      245       1
   H  13    0   0   0   0   0   0   0   0   0   0   0   0   0 112   0   0   0   0   0   0      112       0
   I  14    0   0   0   0   0   0   0   0   0   0   0   0   0   0 375   1   0   0   0   0      376       1
  I2  15    0   0   0   0   0   0   0   0   0   0   0   0   0   0   1 570   0   0   0   0      571       1
  I3  16    0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 259   0   0   0      259       0
  I4  17    0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0  36   0   0       36       0
   M  18    0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0  48   0       48       0
   P  19    0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 136      136       0

     class     accuracy    tests      candidate order
   A     0       99.51%   409        407   2   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   B     1      100.00%    10         10   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  Bd     2      100.00%    40         40   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  Bm     3       97.53%   486        474   8   2   2   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  Bu     4      100.00%    34         34   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   C     5       99.55%   440        438   1   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  C1     6      100.00%    12         12   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   D     7      100.00%   140        140   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   E     8      100.00%   570        570   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  E1     9      100.00%    21         21   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   F    10      100.00%   272        272   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   G    11      100.00%    60         60   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  G2    12       99.59%   245        244   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   H    13      100.00%   112        112   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   I    14       99.73%   376        375   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  I2    15       99.82%   571        570   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  I3    16      100.00%   259        259   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  I4    17      100.00%    36         36   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   M    18      100.00%    48         48   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   P    19      100.00%   136        136   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0

       TOTAL     99.56%   4277        4258  14   3   2   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  avg_accuracy   99.79%
    error_rate    0.21%


CLASSIFYING TEST PREDICTORS
ecoz2 vq classify --codebooks data/codebooks/[A-Z]*/eps_0.0005_M_1024.cbook --predictors tt-list.csv --tt=TEST
number of codebooks: 20  number of predictors: 1080
show_ranked = false

    Confusion matrix:
            0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19     tests   errors

   A   0  100   0   0   0   0   0   0   0   0   0   1   0   0   0   0   2   0   0   0   0      103       3
   B   1    0   0   0   2   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0        3       3
  Bd   2    0   0   5   4   0   0   0   0   0   0   0   0   0   0   0   0   0   1   0   0       10       5
  Bm   3    3   1   2 103   2   0   0   0   0   0   0   0   0   1   0   5   4   1   0   0      122      19
  Bu   4    0   0   0   2   7   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0        9       2
   C   5    0   0   0   0   0  92   0   0   7   1   9   0   0   0   0   1   0   0   0   0      110      18
  C1   6    0   0   0   0   0   1   0   0   0   0   3   0   0   0   0   0   0   0   0   0        4       4
   D   7    0   0   0   0   0   0   0  28   1   0   5   0   0   0   1   0   0   0   0   0       35       7
   E   8    0   0   0   0   0   7   0   6 116   0   0   2   4   0   5   2   0   0   0   1      143      27
  E1   9    0   0   0   0   0   2   0   0   2   2   0   0   0   0   0   0   0   0   0   0        6       4
   F  10    0   0   0   0   0   2   0   0   2   0  60   0   2   0   1   0   0   0   0   1       68       8
   G  11    0   0   0   0   0   0   0   0   3   0   0   9   0   0   1   0   0   0   0   3       16       7
  G2  12    0   0   0   0   0   2   0   1   5   2   3   0  46   0   2   1   0   0   0   0       62      16
   H  13    0   0   0   0   0   0   0   0   0   0   0   0   0  28   0   0   0   0   0   1       29       1
   I  14    0   0   0   0   0   1   0   0   7   0   0   1   0   0  67  18   0   0   0   1       95      28
  I2  15    1   0   0   0   0   2   0   0   5   0   1   1   2   0   6 117   8   0   0   0      143      26
  I3  16    0   0   0   2   0   0   0   0   0   0   0   0   0   1   0   3  55   4   0   0       65      10
  I4  17    0   0   2   1   0   0   0   0   0   0   0   0   0   0   0   1   2   4   0   0       10       6
   M  18    0   0   0   0   0   1   0   0   0   0   1   0   0   0   0   1   0   0   7   2       12       5
   P  19    1   0   0   0   0   0   0   0   4   0   0   1   1   0   2   1   0   0   0  25       35      10

     class     accuracy    tests      candidate order
   A     0       97.09%   103        100   0   0   0   2   0   0   1   0   0   0   0   0   0   0   0   0   0   0   0
   B     1        0.00%     3          0   0   0   0   0   1   0   0   0   1   0   0   0   0   1   0   0   0   0   0
  Bd     2       50.00%    10          5   2   2   0   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  Bm     3       84.43%   122        103  10   4   2   1   0   1   0   0   1   0   0   0   0   0   0   0   0   0   0
  Bu     4       77.78%     9          7   1   0   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   C     5       83.64%   110         92  10   5   0   1   0   0   1   1   0   0   0   0   0   0   0   0   0   0   0
  C1     6        0.00%     4          0   1   0   0   0   0   1   1   0   0   0   0   0   0   0   1   0   0   0   0
   D     7       80.00%    35         28   5   2   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   E     8       81.12%   143        116  22   2   2   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  E1     9       33.33%     6          2   2   0   0   1   0   1   0   0   0   0   0   0   0   0   0   0   0   0   0
   F    10       88.24%    68         60   4   2   0   0   0   0   0   1   0   1   0   0   0   0   0   0   0   0   0
   G    11       56.25%    16          9   2   3   0   1   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  G2    12       74.19%    62         46   9   5   1   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   H    13       96.55%    29         28   0   0   0   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   I    14       70.53%    95         67  19   6   1   1   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  I2    15       81.82%   143        117  15   9   1   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  I3    16       84.62%    65         55   6   3   0   0   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  I4    17       40.00%    10          4   1   2   2   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   M    18       58.33%    12          7   1   1   0   0   1   1   0   1   0   0   0   0   0   0   0   0   0   0   0
   P    19       71.43%    35         25   2   5   1   1   0   1   0   0   0   0   0   0   0   0   0   0   0   0   0

       TOTAL     80.65%   1080        871 112  51  11  14   5   5   3   3   2   1   0   0   0   1   1   0   0   0   0
  avg_accuracy   65.47%
    error_rate   34.53%
```
